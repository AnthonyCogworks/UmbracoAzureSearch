<style type="text/css">
    .row{
  margin-bottom: 30px
}
</style>
<div ng-controller="Umbraco.Dashboard.MoriyamaAzureSearchController">

    <div class="row">
        <h3>Azure Search</h3>

        <h4>Configuration</h4>

        <table class="table table-striped">

            <tr>
                <td>Search Service Name</td>
                <td>{{config.SearchServiceName}}</td>
            </tr>

            <tr>
                <td>Index Name</td>
                <td>{{config.IndexName}}</td>
            </tr>
        </table>

        <div ng-show="showConfigTest" class="alert alert-info">
            Connection test result: {{configTest}}
        </div>

        <input type="button" class="btn btn-default" value="Test Configuration" ng-click="testConfig()" ng-show="configLoaded" />
    </div>


    <div class="row">
        

        <h4>Index Manager</h4>

        <ul>
            <li ng-repeat="index in searchIndexes">Found Index <em>{{index.Name}}</em></li>
        </ul>

        <div ng-show="showIndexDropCreate" class="alert alert-info">
            Dropping and Creating: {{dropCreateResult}}
        </div>

        <div ng-show="showReIndexContent" class="alert alert-success">
            <p>Reindexing has started.</p>

            <p>Session id: {{reIndexContentResult.SessionId}}</p>

            <p>{{reIndexContentResult.DocumentsProcessed}} of {{reIndexContentResult.DocumentCount}} {{TypeProcessing}} processed.</p>
            
            <p ng-show="finishedIndexing">Finished re-indexing all content and media.</p>

        </div>

        <input type="button" class="btn btn-default" value="Drop/Create Index" ng-click="dropCreateIndex()" />

        <input type="button" class="btn btn-default" value="Reindex Content" ng-click="reindexContent()" />
    </div>
    
    <h3>Standard Umbraco Fields</h3>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Type</th>
                <th>IsKey</th>
                <th>IsSortable</th>
                <th>IsFacetable</th>
                <th>IsFilterable</th>
            </tr>
        </thead>
        Int, String, Collection, Bool, Date
        <tbody>
            <tr ng-repeat="field in umbracoFields">
                <td>
                   
                    {{field.Name}}
                </td>
                <td>
                    <span ng-show="field.FieldType == 0">Int</span>
                    <span ng-show="field.FieldType == 1">String</span>
                    <span ng-show="field.FieldType == 2">Collection</span>
                    <span ng-show="field.FieldType == 3">Bool</span>
                    <span ng-show="field.FieldType == 4">Date</span>


                </td>
                <td>
                    {{field.IsKey}}
                </td>
                <td>
                    {{field.IsSortable}}
                </td>
                <td>
                    {{field.IsFacetable}}
                </td>
                <td>
                    {{field.IsFilterable}}
                </td>
            </tr>
        </tbody>
    </table>

    <h3>Custom Umbraco Fields</h3>

    <p>These are defined in /config/AzureSearch.config</p>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Alias</th>
                <th>Type</th>
                <th>IsKey</th>
                <th>IsSortable</th>
                <th>IsFacetable</th>
                <th>IsFilterable</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="searchField in config.Fields">
                <td>
                    {{searchField.Name}}
                </td>
                <td>
                    <span ng-show="searchField.FieldType == 0">Int</span>
                    <span ng-show="searchField.FieldType == 1">String</span>
                    <span ng-show="searchField.FieldType == 2">Collection</span>
                    <span ng-show="searchField.FieldType == 3">Bool</span>
                    <span ng-show="searchField.FieldType == 4">Date</span>
                </td>
                <td>
                    {{searchField.IsKey}}
                </td>
                <td>
                    {{searchField.IsSortable}}
                </td>
                <td>
                    {{searchField.IsFacetable}}
                </td>
                <td>
                    {{searchField.IsFilterable}}
                </td>
            </tr>
        </tbody>
    </table>

    <hr />

</div>